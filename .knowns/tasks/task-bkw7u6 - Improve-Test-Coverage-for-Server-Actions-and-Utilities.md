---
id: bkw7u6
title: Improve Test Coverage for Server Actions and Utilities
status: done
priority: high
labels:
  - testing
createdAt: '2026-03-01T03:24:52.564Z'
updatedAt: '2026-03-01T03:41:22.702Z'
timeSpent: 0
---
# Improve Test Coverage for Server Actions and Utilities

## Description

<!-- SECTION:DESCRIPTION:BEGIN -->
Complex PnL and Risk/Reward calculations and critical CRUD server actions in src/lib/calculations.ts and src/lib/actions/trades.ts lack test coverage. Add required unit tests.
<!-- SECTION:DESCRIPTION:END -->

## Acceptance Criteria
<!-- AC:BEGIN -->
- [x] #1 Write unit tests for complex PnL and Risk/Reward calculations in src/lib/calculations.ts
- [x] #2 Write integration tests for CRUD operations in src/lib/actions/trades.ts
<!-- AC:END -->

